<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'blog/style.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>{% block title %}{% endblock %}</title>
</head>
<body>
<div class="menubtn" >
    <div class="menu-main-item"><img src="{% static 'blog/img/icons/menu.png' %}" alt=''></div>
    <a role="button" onclick="changepage('main_page')"><div class="menu-item item-1">AboutMe</div></a>
    <a role="button" onclick="changepage('skills_page')"><div class="menu-item item-2">Skills</div></a>
    <a role="button" onclick="changepage('hobbies_page')"><div class="menu-item item-3">Hobbies</div></a>
    <a role="button" onclick="changepage('projects_page')"><div class="menu-item item-4">Projects</div></a>
    <div class="menu-contact item-6"><a href="https://github.com/maxxsiz"><img src="{% static 'blog/img/icons/youtube_white.png' %}" alt=''></a></div>
    <div class="menu-contact item-7"><a href="https://www.youtube.com/channel/UCNp3ltUUB9vcJ9yAvSN0tyA?view_as=subscriber"><img src="{% static 'blog/img/icons/github_white.png' %}" alt=''></a></div>
    <div class="menu-contact item-8"><a href="https://www.facebook.com/maks.miszczuk.1"><img src="{% static 'blog/img/icons/facebook_white.png' %}" alt=''></a></div>
    <div class="menu-contact item-9"><a href="https://www.instagram.com/maxxsiz/tagged/"><img src="{% static 'blog/img/icons/instagram_white.png' %}" alt=''></a></div>     
</div>
{% block content %} {% endblock %}

<script>
    'use strict';
    let current_page = 'main_page';
    let last_page = '';
    let is_f_start = 0 ;
    function changepage(go_to_page){
        console.log('is_f_strt =' + is_f_start);
        ++is_f_start;
        if (is_f_start > 1){
            --is_f_start;
            return console.log('функция запущена');
        }
        console.log('я запустился 1')
        if (go_to_page==current_page){
            --is_f_start;
            return console.log('Current page');
        } else {
        document.getElementById(go_to_page).style.left = '0vw'; 
        document.getElementById(current_page).style.left = '100vw';
        console.log('я запустился 2')

        setTimeout(function() {
        console.log('доп функц:');
        document.getElementById(current_page).style.transition = "left 0s";
        document.getElementById(current_page).style.left = '-100vw';
        last_page = current_page;
        current_page = go_to_page;
        }, 5000);

        setTimeout(function() {
        document.getElementById(last_page).style.transition = "left 4s";
        console.log('я запустился 3')
        is_f_start = 0;
        }, 5500);
    }
}
</script>

</body>
</html>